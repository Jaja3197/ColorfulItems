<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="css/main.css">
	<title>Vue me</title>
</head>
<body>

	<div id="app">
		<ul >
			<li class="dude" >	
			</li>
		</ul>

		<form class="add-new" >
			<input type="text" class = "who" autofocus>
			<input type="text" class="wat">
		</form>

		<p class="preview">
		</p>
		<small></small>
	</div>
	<script>



let who = document.querySelector(".who");
let wat = document.querySelector(".wat");

let list = document.querySelector("ul");
let preview = document.querySelector(".preview");
let previewSmall = document.querySelector("small");
let form = document.querySelector("form");
let whoContent;
let watContent;


//vypisovanie toho čo píšeme pod input

form.addEventListener('keypress', function() {
	watContent = wat.value ;
	whoContent = who.value ;
    preview.textContent = whoContent
    previewSmall.textContent = watContent;
})

//Pridanie elementu
function addDude (who, wat, whoContent, watContent){
	var listItem = document.createElement("li");
	var dude = document.createElement("div");
var articleElement = document.createElement("article");
let spanElement = document.createElement("span");
let remove = document.createElement("a");
var vote = document.createElement("input");

remove.classList.add("ctrl");
remove.textContent = "x";

vote.classList.add("ctrl");
vote.setAttribute("id", "voting");
vote.setAttribute("type", "number");
vote.setAttribute("value", "20");


articleElement.textContent = whoContent;
spanElement.textContent = watContent;
list.appendChild(listItem);
listItem.appendChild(dude);
dude.appendChild(remove);
dude.appendChild(articleElement);
articleElement.appendChild(spanElement);
dude.appendChild(vote);

//delete

remove.addEventListener("click", function(event){
	dude.remove(dude);
});

//coolness
vote.addEventListener("change", function(event){
	if ( vote.value < 10) {
                articleElement.classList.add("faded");
            }
            else {
				articleElement.classList.remove("faded");
            }

            if ( vote.value > 50) {
                articleElement.classList.add('gold');
                articleElement.style.width = 328;
                articleElement.style.height = 32;
            }
            else {
                articleElement.classList.remove('gold');
                articleElement.style.width = 336;
                articleElement.style.height = 40;
            }
        });
}


document.body.addEventListener("keyup", function (event){

if ( event.key == 'Enter' && watContent  && whoContent  ) {
//vytvorenie a apendnutie elementov
addDude (who, wat, whoContent, watContent)
        }
//preklik na druhý riadok
else if ( event.key == 'Enter' && whoContent  && !watContent  ) {
wat.focus();
}  
});

	</script>

</body>
</html>